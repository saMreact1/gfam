<div class="registration-wrapper">
  <!-- Back Button -->
  <mat-icon routerLink="/">⬅️</mat-icon>

  <!-- Illustration Side -->
  <div class="illustration-side">
    <div class="overlay">
      <h1 class="headline">Register for 72 Hours 2025</h1>
      <p class="subtext">
        Be part of a powerful gathering of believers, ministers, and leaders. Only those who will be attending physically are expected to register.
      </p>
      <img src="../../../assets/illustrations/signup.svg" alt="Church Event Illustration" />
    </div>
  </div>

  <!-- Form Side -->
  <div class="form-side">
    <mat-card class="registration-card">
      <mat-card-title>Attendee Registration</mat-card-title>
      <mat-card-subtitle>
        Fill in your details to register for the program
      </mat-card-subtitle>

      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        
        <!-- First & Last Name -->
        <div class="form-grid">
          <mat-form-field appearance="fill" class="full-width">
            <mat-label>First Name</mat-label>
            <input matInput formControlName="firstName" required />
          </mat-form-field>

          <mat-form-field appearance="fill" class="full-width">
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="lastName" required />
          </mat-form-field>
        </div>

        <!-- Email -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" required />
        </mat-form-field>

        <!-- Phone -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Phone</mat-label>
          <input matInput type="tel" formControlName="phone" required />
        </mat-form-field>

        <!-- Role & Gender -->
        <div class="form-grid">
          <mat-form-field appearance="fill" class="full-width">
            <mat-label> Ministerial Status</mat-label>
            <mat-select formControlName="ministerRole" required>
              <mat-option *ngFor="let r of roles" [value]="r">{{ r }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="fill" class="full-width">
            <mat-label>Gender</mat-label>
            <mat-select formControlName="gender" required>
              <mat-option value="Male">Male</mat-option>
              <mat-option value="Female">Female</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Attends C&S -->
        <div class="attendsCs">
          <label class="section-label">Do you attend C&S?</label>
          <mat-radio-group formControlName="attendsCs" class="radio-group">
            <mat-radio-button value="Yes">Yes</mat-radio-button>
            <mat-radio-button value="No">No</mat-radio-button>
          </mat-radio-group>
        </div>

        <!-- Church Name (conditional) -->
        <mat-form-field
          *ngIf="registrationForm.get('attendsCs')?.value"
          appearance="fill"
          class="full-width"
        >
          <mat-label>Church Name</mat-label>
          <input matInput formControlName="churchName" />
        </mat-form-field>

        <!-- City & State -->
        <div class="form-grid">
          <mat-form-field appearance="fill" class="full-width">
            <mat-label>State</mat-label>
            <mat-select formControlName="stateId">
              <mat-option *ngFor="let state of states" [value]="state.id">
                {{ state.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="fill" class="full-width">
            <mat-label>City</mat-label>
            <input matInput formControlName="city" />
          </mat-form-field>
        </div>

        <!-- Check-in Date -->
        <!-- <mat-form-field appearance="fill" class="full-width">
          <mat-label>Check-in Date</mat-label>
          <input
            matInput
            [matDatepicker]="checkInPicker"
            formControlName="checkInDate"
          />
          <mat-datepicker-toggle matSuffix [for]="checkInPicker"></mat-datepicker-toggle>
          <mat-datepicker #checkInPicker></mat-datepicker>
        </mat-form-field> -->

        <!-- Nursing or Pregnant (only if female) -->
        <div class="nursing" *ngIf="registrationForm.get('gender')?.value === 'Female'">
          <label class="section-label">Nursing mother or pregnant?</label>
          <mat-radio-group formControlName="nursing" class="radio-group">
            <mat-radio-button value="Yes">Yes</mat-radio-button>
            <mat-radio-button value="No">No</mat-radio-button>
          </mat-radio-group>
        </div>

        <div class="attendance">
          <label class="section-label">Will you be ttending the program physically?</label>
          <mat-radio-group formControlName="attendance" class="radio-group">
            <mat-radio-button value="Yes">Yes</mat-radio-button>
            <mat-radio-button value="No">No</mat-radio-button>
          </mat-radio-group>
        </div>

        <!-- Submit Button -->
        <div class="btn-container">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="registrationForm.invalid"
          >
            Submit Registration
          </button>
        </div>

      </form>
    </mat-card>
  </div>
</div>
